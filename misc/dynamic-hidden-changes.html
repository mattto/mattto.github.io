<!doctype html>
<html>
<body>
<div id="page">
<button id="open-dialog">Click to open dialog</button>
<button>Button 2</button>
<input id="focus-dialog" type="checkbox">
<label for="focus-dialog">Give focus to dialog contents</label>
 <button hidden>Button 3 - hidden=true</button>
</div>
<div id="dialog" hidden>I'm the dialog<input type="checkbox">Hi</input></div>
<script>
function hide(element) {
    element.setAttribute('hidden', 'true');
}
function show(element) {
    element.removeAttribute('hidden');
}
var button = document.querySelector('#open-dialog');
button.addEventListener('click', function(e) {
    var contents = document.querySelectorAll('#page *');
    for (var i = 0; i < contents.length; ++i) {
        hide(contents[i]);
    }
    var dialog = document.querySelector('#dialog');
    show(dialog);
    if (document.querySelector('#focus-dialog').checked)
        dialog.querySelector('input').focus();
});
</script>
</body>
</html>
